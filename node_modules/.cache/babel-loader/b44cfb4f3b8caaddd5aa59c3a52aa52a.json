{"ast":null,"code":"var _jsxFileName = \"/Users/christy/Documents/cxxxxxn.github.io/src/views/NoteDetail/index.js\";\nimport React, { Component } from 'react';\nimport { Row, Col } from 'react-flexbox-grid';\nimport './index.css'; // import Markdown from 'react-markdown'; \n\nimport marked from 'marked';\nimport hljs from 'highlight.js';\nimport MarkNav from 'markdown-navbar'; // import 'markdown-navbar/dist/navbar.css'\n\nexport default class NoteDetail extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      content: \"\",\n      md: \"\"\n    };\n  }\n\n  componentDidMount() {\n    marked.setOptions({\n      renderer: new marked.Renderer(),\n      gfm: true,\n      tables: true,\n      breaks: true,\n      pedantic: false,\n      smartypants: false,\n      highlight: function (code) {\n        return hljs.highlightAuto(code).value;\n      }\n    });\n    fetch(this.props.note.md).then(res => res.text()).then(text => this.setState({\n      content: text,\n      md: this.props.note.md\n    })); //异步\n  }\n\n  componentDidUpdate() {\n    fetch(this.props.note.md).then(res => res.text()).then(text => this.setState({\n      content: text,\n      md: this.props.note.md\n    }));\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextProps.note.name === this.props.note.name && nextState.md === this.state.md) {\n      return false;\n    }\n\n    return true;\n  }\n\n  render() {\n    const {\n      title,\n      time\n    } = this.props.note;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"noteDetail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"article-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }\n    }, title), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"article-time\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }\n    }, time), /*#__PURE__*/React.createElement(Row, {\n      start: \"xs\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      xsOffset: 1,\n      xs: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"content\",\n      className: \"article-detail\",\n      dangerouslySetInnerHTML: {\n        __html: this.state.content ? marked(this.state.content) : null\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(MarkNav, {\n      className: \"article-menu\",\n      source: this.state.content //markdown???????,???\n      ,\n      headingTopOffset: 80 //??????????\n      ,\n      ordered: true //?????\n      ,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 33\n      }\n    }));\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/christy/Documents/cxxxxxn.github.io/src/views/NoteDetail/index.js"],"names":["React","Component","Row","Col","marked","hljs","MarkNav","NoteDetail","constructor","props","state","content","md","componentDidMount","setOptions","renderer","Renderer","gfm","tables","breaks","pedantic","smartypants","highlight","code","highlightAuto","value","fetch","note","then","res","text","setState","componentDidUpdate","shouldComponentUpdate","nextProps","nextState","name","render","title","time","__html"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Row, Col } from 'react-flexbox-grid';\nimport './index.css';\n// import Markdown from 'react-markdown'; \nimport marked from 'marked';\nimport hljs from 'highlight.js';\n\nimport MarkNav from 'markdown-navbar';\n// import 'markdown-navbar/dist/navbar.css'\n\nexport default class NoteDetail extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            content:\"\",\n            md:\"\"\n        };\n    }\n\n    componentDidMount() {\n        marked.setOptions({\n            renderer: new marked.Renderer(),\n            gfm: true,\n            tables: true,\n            breaks: true,\n            pedantic: false,\n            smartypants: false,\n            highlight: function(code) {\n                return hljs.highlightAuto(code).value;\n            },\n        });\n        \n        fetch(this.props.note.md)\n          .then(res => res.text())\n          .then(text => this.setState({content: text, md:this.props.note.md}));//异步\n    }\n\n    componentDidUpdate(){\n        fetch(this.props.note.md)\n          .then(res => res.text())\n          .then(text => this.setState({content: text, md:this.props.note.md}));\n    }\n\n    shouldComponentUpdate(nextProps, nextState){\n        if(nextProps.note.name === this.props.note.name && nextState.md === this.state.md){\n            return false;\n        }\n        return true;\n    }\n\n\trender(){\n        const {title, time} = this.props.note;\n\t\treturn (\n\t\t\t<div className=\"noteDetail\">\n                <h2 className=\"article-title\">{title}</h2>\n                <p className=\"article-time\">{time}</p>\n                <Row start=\"xs\">\n                    <Col xsOffset={1} xs={10}>\n                        {/* <Markdown source={this.state.content}/> */}\n                        <div\n                        id=\"content\"\n                        className=\"article-detail\"\n                        dangerouslySetInnerHTML={{\n                            __html: this.state.content ? marked(this.state.content) : null,\n                            }}\n                        />\n                    </Col>\n                </Row>\n                                <MarkNav\n                className=\"article-menu\"\n                source={this.state.content}\t\t\t\t//markdown???????,???\n                headingTopOffset={80}\t\t\t//??????????\n                ordered={true}\t\t\t\t//?????\n                />\n\n\t\t\t</div>\n\t\t  );\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}