{"ast":null,"code":"var _jsxFileName = \"/Users/christy/Documents/cxxxxxn.github.io/src/views/NoteDetail/index.js\";\nimport React, { Component } from 'react';\nimport { Row, Col } from 'react-flexbox-grid';\nimport './index.css'; // import Markdown from 'react-markdown'; \n\nimport marked from 'marked';\nimport hljs from 'highlight.js';\nimport Mnavbar from './Mnavbar';\nexport default class NoteDetail extends Component {\n  constructor(props) {\n    super(props);\n\n    this.winScroll = () => {\n      const scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n\n      if (scrollTop > 80) {\n        this.setState(prevState => {\n          if (!prevState.navbarStick) {\n            return {\n              navbarStick: true\n            };\n          }\n        });\n      } else if (scrollTop < 100) {\n        this.setState(prevState => {\n          if (prevState.navbarStick) {\n            return {\n              navbarStick: false\n            };\n          }\n        });\n      }\n    };\n\n    this.content = React.createRef();\n    this.state = {\n      content: \"\",\n      navbarStick: false\n    };\n  }\n\n  componentDidMount() {\n    marked.setOptions({\n      renderer: new marked.Renderer(),\n      gfm: true,\n      tables: true,\n      breaks: true,\n      pedantic: false,\n      smartypants: false,\n      highlight: function (code) {\n        return hljs.highlightAuto(code).value;\n      }\n    });\n    fetch(this.props.note.md).then(res => res.text()).then(text => this.setState({\n      content: text\n    }));\n    document.addEventListener('scroll', this.winScroll, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.winScroll, false);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.note.name !== this.props.note.name) {\n      fetch(this.props.note.md).then(res => res.text()).then(text => this.setState({\n        content: text\n      }));\n    }\n  }\n\n  // shouldComponentUpdate(nextProps, nextState){\n  //     if(nextProps.note.name === this.props.note.name && nextState.md === this.state.md){\n  //         return false;\n  //     }\n  //     return true;\n  // }\n  // render(){\n  //     if(this.state.content){\n  //         const {title, time} = this.props.note;\n  //         const content = <div\n  //             id=\"note-content\"\n  //             ref={this.content}\n  //             className=\"article-detail\"\n  //             dangerouslySetInnerHTML={{\n  //                 __html: marked(this.state.content)\n  //                 }}\n  //             />;\n  //             const navbarClassName =\"article-navbar big-device \" + (this.state.navbarStick?\"article-navbar-stick\":null)\n  //             return (\n  //                 <div className=\"noteDetail\">\n  //                     <Row>\n  //                         <Col lg={3}>\n  //                             <div className={navbarClassName}>\n  //                                 <h3 className=\"article-navbar-title\">文章目录</h3>\n  //                                 <Mnavbar source={this.state.content}></Mnavbar>\n  //                             </div>\n  //                         </Col>\n  //                         <Col xs={12} lg={9}\n  //                             className=\"article\">\n  //                             <h2 className=\"article-title\">{title}</h2>\n  //                             <p className=\"article-time\">{time}</p>\n  //                             {content}\n  //                         </Col>\n  //                     </Row>\n  //                 </div>\n  //               );\n  //     }else{\n  //         return <div></div>;\n  //     }\n  // }\n  render() {\n    const {\n      content\n    } = this.state;\n    const {\n      title,\n      time\n    } = this.props.note; // const contentHtml = <div\n    //     id=\"note-content\"\n    //     ref={this.content}\n    //     className=\"article-detail\"\n    //     dangerouslySetInnerHTML={{\n    //         __html: content?marked(content):null\n    //         }}\n    //     />;\n\n    const navbarClassName = \"article-navbar big-device \" + (this.state.navbarStick ? \"article-navbar-stick\" : null);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"noteDetail\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: navbarClassName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"article-navbar-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 29\n      }\n    }, \"\\u6587\\u7AE0\\u76EE\\u5F55\"))), /*#__PURE__*/React.createElement(Col, {\n      xs: 12,\n      lg: 9,\n      className: \"article\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"article-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 25\n      }\n    }, title), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"article-time\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 25\n      }\n    }, time), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, \"ee\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 25\n      }\n    }, \"ee\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 25\n      }\n    }, \"ee\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 25\n      }\n    }, \"ee\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }, \"ee\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 25\n      }\n    }, \"ee\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, \"ee\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 25\n      }\n    }, \"ee\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }\n    }, \"ee\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 25\n      }\n    }, \"ee\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 25\n      }\n    }, \"ee\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 25\n      }\n    }, \"ee\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }\n    }, \"ee\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 25\n      }\n    }, \"ee\"))));\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/christy/Documents/cxxxxxn.github.io/src/views/NoteDetail/index.js"],"names":["React","Component","Row","Col","marked","hljs","Mnavbar","NoteDetail","constructor","props","winScroll","scrollTop","window","pageYOffset","document","documentElement","body","setState","prevState","navbarStick","content","createRef","state","componentDidMount","setOptions","renderer","Renderer","gfm","tables","breaks","pedantic","smartypants","highlight","code","highlightAuto","value","fetch","note","md","then","res","text","addEventListener","componentWillUnmount","removeEventListener","componentDidUpdate","prevProps","name","render","title","time","navbarClassName"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Row, Col } from 'react-flexbox-grid';\nimport './index.css';\n// import Markdown from 'react-markdown'; \nimport marked from 'marked';\nimport hljs from 'highlight.js';\n\nimport Mnavbar from './Mnavbar';\n\n\nexport default class NoteDetail extends Component {\n\n    constructor(props){\n        super(props);\n        this.content = React.createRef();\n        this.state = {\n            content:\"\",\n            navbarStick: false\n        };\n    }\n\n    componentDidMount() {\n        marked.setOptions({\n            renderer: new marked.Renderer(),\n            gfm: true,\n            tables: true,\n            breaks: true,\n            pedantic: false,\n            smartypants: false,\n            highlight: function(code) {\n                return hljs.highlightAuto(code).value;\n            },\n        });\n        \n        fetch(this.props.note.md)\n          .then(res => res.text())\n          .then(text => this.setState({content: text}));\n\n        document.addEventListener('scroll', this.winScroll, false);\n    }\n\n    componentWillUnmount(){\n        document.removeEventListener('scroll', this.winScroll, false);\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(prevProps.note.name !== this.props.note.name){\n            fetch(this.props.note.md)\n                .then(res => res.text())\n                .then(text => this.setState({content: text}));\n        }\n    }\n\n    winScroll = ()=>{\n        const scrollTop =\n            window.pageYOffset ||\n            document.documentElement.scrollTop ||\n            document.body.scrollTop ||\n            0;\n\n        if(scrollTop > 80){\n            this.setState((prevState) => {\n                if(!prevState.navbarStick){\n                    return {\n                        navbarStick: true\n                    }\n                }\n            });\n        }else if(scrollTop < 100){\n            this.setState((prevState) => {\n                if(prevState.navbarStick){\n                    return {\n                        navbarStick: false\n                    }\n                }\n            });\n        }\n    }\n\n    // shouldComponentUpdate(nextProps, nextState){\n    //     if(nextProps.note.name === this.props.note.name && nextState.md === this.state.md){\n    //         return false;\n    //     }\n    //     return true;\n    // }\n\n\t// render(){\n    //     if(this.state.content){\n    //         const {title, time} = this.props.note;\n    //         const content = <div\n    //             id=\"note-content\"\n    //             ref={this.content}\n    //             className=\"article-detail\"\n    //             dangerouslySetInnerHTML={{\n    //                 __html: marked(this.state.content)\n    //                 }}\n    //             />;\n\n    //             const navbarClassName =\"article-navbar big-device \" + (this.state.navbarStick?\"article-navbar-stick\":null)\n    //             return (\n    //                 <div className=\"noteDetail\">\n    //                     <Row>\n    //                         <Col lg={3}>\n    //                             <div className={navbarClassName}>\n    //                                 <h3 className=\"article-navbar-title\">文章目录</h3>\n    //                                 <Mnavbar source={this.state.content}></Mnavbar>\n    //                             </div>\n    //                         </Col>\n    //                         <Col xs={12} lg={9}\n    //                             className=\"article\">\n    //                             <h2 className=\"article-title\">{title}</h2>\n    //                             <p className=\"article-time\">{time}</p>\n    //                             {content}\n    //                         </Col>\n    //                     </Row>\n    //                 </div>\n    //               );\n    //     }else{\n    //         return <div></div>;\n    //     }\n    // }\n    \n    render(){\n        const {content} = this.state;\n        const {title, time} = this.props.note;\n        // const contentHtml = <div\n        //     id=\"note-content\"\n        //     ref={this.content}\n        //     className=\"article-detail\"\n        //     dangerouslySetInnerHTML={{\n        //         __html: content?marked(content):null\n        //         }}\n        //     />;\n\n        const navbarClassName =\"article-navbar big-device \" + (this.state.navbarStick?\"article-navbar-stick\":null)\n        return (\n            <div className=\"noteDetail\">\n                <Row>\n                    <Col lg={3}>\n                        <div className={navbarClassName}>\n                            <h3 className=\"article-navbar-title\">文章目录</h3>\n                            {/* <Mnavbar source={content}></Mnavbar> */}\n                        </div>\n                    </Col>\n                    <Col xs={12} lg={9}\n                        className=\"article\">\n                        <h2 className=\"article-title\">{title}</h2>\n                        <p className=\"article-time\">{time}</p>\n                        <h1>ee</h1>\n                        <h1>ee</h1>\n\n                        <h1>ee</h1>\n                        <h1>ee</h1>\n                        <h1>ee</h1>\n                        <h1>ee</h1>\n                        <h1>ee</h1>\n                        <h1>ee</h1>\n\n                        <h1>ee</h1>\n\n                        <h1>ee</h1>\n\n                        <h1>ee</h1>\n                        <h1>ee</h1>\n                        <h1>ee</h1>\n                        <h1>ee</h1>\n\n                        {/* {contentHtml} */}\n                    </Col>\n                </Row>\n            </div>\n            );\n        }\n};\n"]},"metadata":{},"sourceType":"module"}