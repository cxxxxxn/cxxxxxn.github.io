{"ast":null,"code":"import _classCallCheck from\"/Users/christy/Documents/cxxxxxn.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/christy/Documents/cxxxxxn.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _createSuper from\"/Users/christy/Documents/cxxxxxn.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/christy/Documents/cxxxxxn.github.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import marked from'marked';import hljs from'highlight.js';import'./index.css';import'highlight.js/styles/atelier-dune-light.css';var Markdown=/*#__PURE__*/function(_Component){_inherits(Markdown,_Component);var _super=_createSuper(Markdown);function Markdown(props){var _this;_classCallCheck(this,Markdown);_this=_super.call(this,props);marked.setOptions({renderer:new marked.Renderer(),gfm:true,tables:true,breaks:true,pedantic:false,smartypants:false,highlight:function highlight(str,lang){// 此处判断是否有添加代码语言\nif(lang&&hljs.getLanguage(lang)){try{// 得到经过highlight.js之后的html代码\nvar _preCode=hljs.highlight(lang,str,true).value;// 以换行进行分割\nvar _lines=_preCode.split(/\\n/).slice();var _html=_lines.map(function(item,index){return'<li><span class=\"line-num\" data-line=\"'+(index+1)+'\">'+(index+1)+'</span>'+item+'</li>';}).join('');_html='<ol>'+_html+'</ol>';return _html;}catch(__){}}// 未添加代码语言，此处与上面同理\nvar preCode=hljs.highlightAuto(str).value;var lines=preCode.split(/\\n/).slice();var html=lines.map(function(item,index){return'<li><span class=\"line-num\" data-line=\"'+(index+1)+'\">'+(index+1)+'</span>'+item+'</li>';}).join('');html='<ol>'+html+'</ol>';return html;}});return _this;}// function(code) {\n//     return hljs.highlightAuto(code).value;\n// },\n_createClass(Markdown,[{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps){if(nextProps.source!==this.props.source){return true;}else{return false;}}},{key:\"render\",value:function render(){var source=this.props.source;return/*#__PURE__*/React.createElement(\"div\",{id:\"note-content\",className:\"article-detail\",dangerouslySetInnerHTML:{__html:source?marked(source):null}});}}]);return Markdown;}(Component);export{Markdown as default};","map":{"version":3,"sources":["/Users/christy/Documents/cxxxxxn.github.io/src/views/NoteDetail/Markdown.js"],"names":["React","Component","marked","hljs","Markdown","props","setOptions","renderer","Renderer","gfm","tables","breaks","pedantic","smartypants","highlight","str","lang","getLanguage","preCode","value","lines","split","slice","html","map","item","index","join","__","highlightAuto","nextProps","source","__html"],"mappings":"onBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,MAAO,aAAP,CACA,MAAO,4CAAP,C,GAEqBC,CAAAA,Q,oGAEjB,kBAAYC,KAAZ,CAAkB,0CACd,uBAAMA,KAAN,EACAH,MAAM,CAACI,UAAP,CAAkB,CACdC,QAAQ,CAAE,GAAIL,CAAAA,MAAM,CAACM,QAAX,EADI,CAEdC,GAAG,CAAE,IAFS,CAGdC,MAAM,CAAE,IAHM,CAIdC,MAAM,CAAE,IAJM,CAKdC,QAAQ,CAAE,KALI,CAMdC,WAAW,CAAE,KANC,CAOdC,SAAS,CAAE,mBAAUC,GAAV,CAAeC,IAAf,CAAqB,CAC5B;AACA,GAAIA,IAAI,EAAIb,IAAI,CAACc,WAAL,CAAiBD,IAAjB,CAAZ,CAAoC,CAChC,GAAI,CACA;AACA,GAAME,CAAAA,QAAO,CAAGf,IAAI,CAACW,SAAL,CAAeE,IAAf,CAAqBD,GAArB,CAA0B,IAA1B,EAAgCI,KAAhD,CACA;AACA,GAAMC,CAAAA,MAAK,CAAGF,QAAO,CAACG,KAAR,CAAc,IAAd,EAAoBC,KAApB,EAAd,CACA,GAAIC,CAAAA,KAAI,CAAGH,MAAK,CAACI,GAAN,CAAU,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAClC,MAAO,0CAA4CA,KAAK,CAAG,CAApD,EAAyD,IAAzD,EAA+DA,KAAK,CAAG,CAAvE,EAA0E,SAA1E,CAAsFD,IAAtF,CAA6F,OAApG,CACH,CAFU,EAERE,IAFQ,CAEH,EAFG,CAAX,CAGAJ,KAAI,CAAG,OAASA,KAAT,CAAgB,OAAvB,CACA,MAAOA,CAAAA,KAAP,CACH,CAAC,MAAOK,EAAP,CAAW,CAAE,CAClB,CACD;AACA,GAAMV,CAAAA,OAAO,CAAGf,IAAI,CAAC0B,aAAL,CAAmBd,GAAnB,EAAwBI,KAAxC,CACA,GAAMC,CAAAA,KAAK,CAAGF,OAAO,CAACG,KAAR,CAAc,IAAd,EAAoBC,KAApB,EAAd,CACA,GAAIC,CAAAA,IAAI,CAAGH,KAAK,CAACI,GAAN,CAAU,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAClC,MAAO,0CAA4CA,KAAK,CAAG,CAApD,EAAyD,IAAzD,EAA+DA,KAAK,CAAG,CAAvE,EAA0E,SAA1E,CAAsFD,IAAtF,CAA6F,OAApG,CACH,CAFU,EAERE,IAFQ,CAEH,EAFG,CAAX,CAGAJ,IAAI,CAAG,OAASA,IAAT,CAAgB,OAAvB,CACA,MAAOA,CAAAA,IAAP,CACH,CA9Ba,CAAlB,EAFc,aAkCjB,CAED;AACA;AACA;yFAEsBO,S,CAAW,CAC7B,GAAIA,SAAS,CAACC,MAAV,GAAqB,KAAK1B,KAAL,CAAW0B,MAApC,CAA4C,CACxC,MAAO,KAAP,CACH,CAFD,IAEK,CACD,MAAO,MAAP,CACH,CACJ,C,uCAEO,IACGA,CAAAA,MADH,CACa,KAAK1B,KADlB,CACG0B,MADH,CAEJ,mBAAO,2BACH,EAAE,CAAC,cADA,CAEH,SAAS,CAAC,gBAFP,CAGH,uBAAuB,CAAE,CAACC,MAAM,CAAED,MAAM,CAAC7B,MAAM,CAAC6B,MAAD,CAAP,CAAgB,IAA/B,CAHtB,EAAP,CAKH,C,sBAzDiC9B,S,SAAjBG,Q","sourcesContent":["import React, { Component } from 'react';\nimport marked from 'marked';\nimport hljs from 'highlight.js';\nimport './index.css';\nimport 'highlight.js/styles/atelier-dune-light.css';\n\nexport default class Markdown extends Component {\n\n    constructor(props){\n        super(props);\n        marked.setOptions({\n            renderer: new marked.Renderer(),\n            gfm: true,\n            tables: true,\n            breaks: true,\n            pedantic: false,\n            smartypants: false,\n            highlight: function (str, lang) {\n                // 此处判断是否有添加代码语言\n                if (lang && hljs.getLanguage(lang)) {\n                    try {\n                        // 得到经过highlight.js之后的html代码\n                        const preCode = hljs.highlight(lang, str, true).value;\n                        // 以换行进行分割\n                        const lines = preCode.split(/\\n/).slice();\n                        let html = lines.map((item, index) => {\n                            return '<li><span class=\"line-num\" data-line=\"' + (index + 1) + '\">'+(index + 1)+'</span>' + item + '</li>'\n                        }).join('')\n                        html = '<ol>' + html + '</ol>'\n                        return html;\n                    } catch (__) {}\n                }\n                // 未添加代码语言，此处与上面同理\n                const preCode = hljs.highlightAuto(str).value;\n                const lines = preCode.split(/\\n/).slice();\n                let html = lines.map((item, index) => {\n                    return '<li><span class=\"line-num\" data-line=\"' + (index + 1) + '\">'+(index + 1)+'</span>' + item + '</li>'\n                }).join('')\n                html = '<ol>' + html + '</ol>'\n                return html;\n            }\n        });\n    }\n\n    // function(code) {\n    //     return hljs.highlightAuto(code).value;\n    // },\n\n    shouldComponentUpdate(nextProps) {\n        if (nextProps.source !== this.props.source) {\n            return true;\n        }else{\n            return false;\n        }\n    }\n\n    render(){\n        const {source} = this.props;\n        return <div\n            id=\"note-content\"\n            className=\"article-detail\"\n            dangerouslySetInnerHTML={{__html: source?marked(source):null}}\n        />;\n    }\n}"]},"metadata":{},"sourceType":"module"}