{"ast":null,"code":"var _jsxFileName = \"/Users/christy/Documents/cxxxxxn.github.io/src/views/NoteDetail/index.js\";\nimport React, { Component } from 'react';\nimport { Row, Col } from 'react-flexbox-grid';\nimport './index.css'; // import Markdown from 'react-markdown'; \n\nimport marked from 'marked';\nimport hljs from 'highlight.js';\nimport Mnavbar from './Mnavbar';\nexport default class NoteDetail extends Component {\n  constructor(props) {\n    super(props);\n\n    this.winScroll = () => {\n      const scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;\n\n      if (scrollTop > 90) {} else {}\n    };\n\n    this.content = React.createRef();\n    this.state = {\n      content: \"\",\n      navbarStick: false\n    };\n  }\n\n  componentDidMount() {\n    marked.setOptions({\n      renderer: new marked.Renderer(),\n      gfm: true,\n      tables: true,\n      breaks: true,\n      pedantic: false,\n      smartypants: false,\n      highlight: function (code) {\n        return hljs.highlightAuto(code).value;\n      }\n    });\n    fetch(this.props.note.md).then(res => res.text()).then(text => this.setState({\n      content: text\n    }));\n    document.addEventListener('scroll', this.winScroll, false);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('scroll', this.winScroll, false);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.note.name !== this.props.note.name) {\n      fetch(this.props.note.md).then(res => res.text()).then(text => this.setState({\n        content: text\n      }));\n    }\n  }\n\n  // shouldComponentUpdate(nextProps, nextState){\n  //     if(nextProps.note.name === this.props.note.name && nextState.md === this.state.md){\n  //         return false;\n  //     }\n  //     return true;\n  // }\n  render() {\n    if (this.state.content) {\n      const {\n        title,\n        time\n      } = this.props.note;\n      const content = /*#__PURE__*/React.createElement(\"div\", {\n        id: \"note-content\",\n        ref: this.content,\n        className: \"article-detail\",\n        dangerouslySetInnerHTML: {\n          __html: marked(this.state.content)\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 29\n        }\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"noteDetail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"article-navbar big-device\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"article-navbar-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 37\n        }\n      }, \"\\u6587\\u7AE0\\u76EE\\u5F55\"), /*#__PURE__*/React.createElement(Mnavbar, {\n        source: this.state.content,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 37\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        xs: 12,\n        lg: 9,\n        className: \"article\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"h2\", {\n        className: \"article-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 33\n        }\n      }, title), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"article-time\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 33\n        }\n      }, time), content)));\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }\n      });\n    }\n  }\n\n}\n;","map":{"version":3,"sources":["/Users/christy/Documents/cxxxxxn.github.io/src/views/NoteDetail/index.js"],"names":["React","Component","Row","Col","marked","hljs","Mnavbar","NoteDetail","constructor","props","winScroll","scrollTop","window","pageYOffset","document","documentElement","body","content","createRef","state","navbarStick","componentDidMount","setOptions","renderer","Renderer","gfm","tables","breaks","pedantic","smartypants","highlight","code","highlightAuto","value","fetch","note","md","then","res","text","setState","addEventListener","componentWillUnmount","removeEventListener","componentDidUpdate","prevProps","prevState","name","render","title","time","__html"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Row, Col } from 'react-flexbox-grid';\nimport './index.css';\n// import Markdown from 'react-markdown'; \nimport marked from 'marked';\nimport hljs from 'highlight.js';\n\nimport Mnavbar from './Mnavbar';\n\n\nexport default class NoteDetail extends Component {\n\n    constructor(props){\n        super(props);\n        this.content = React.createRef();\n        this.state = {\n            content:\"\",\n            navbarStick: false\n        };\n    }\n\n    componentDidMount() {\n        marked.setOptions({\n            renderer: new marked.Renderer(),\n            gfm: true,\n            tables: true,\n            breaks: true,\n            pedantic: false,\n            smartypants: false,\n            highlight: function(code) {\n                return hljs.highlightAuto(code).value;\n            },\n        });\n        \n        fetch(this.props.note.md)\n          .then(res => res.text())\n          .then(text => this.setState({content: text}));\n\n        document.addEventListener('scroll', this.winScroll, false);\n    }\n\n    componentWillUnmount(){\n        document.removeEventListener('scroll', this.winScroll, false);\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        if(prevProps.note.name !== this.props.note.name){\n            fetch(this.props.note.md)\n                .then(res => res.text())\n                .then(text => this.setState({content: text}));\n        }\n    }\n\n    winScroll = ()=>{\n        const scrollTop =\n            window.pageYOffset ||\n            document.documentElement.scrollTop ||\n            document.body.scrollTop ||\n            0;\n        if(scrollTop > 90){\n            \n        }else{\n\n        }\n    }\n\n    // shouldComponentUpdate(nextProps, nextState){\n    //     if(nextProps.note.name === this.props.note.name && nextState.md === this.state.md){\n    //         return false;\n    //     }\n    //     return true;\n    // }\n\n\trender(){\n        if(this.state.content){\n            const {title, time} = this.props.note;\n            const content = <div\n                id=\"note-content\"\n                ref={this.content}\n                className=\"article-detail\"\n                dangerouslySetInnerHTML={{\n                    __html: marked(this.state.content)\n                    }}\n                />;\n                return (\n                    <div className=\"noteDetail\">\n                        <Row>\n                            <Col lg={3}>\n                                <div className=\"article-navbar big-device\">\n                                    <h3 className=\"article-navbar-title\">文章目录</h3>\n                                    <Mnavbar source={this.state.content}></Mnavbar>\n                                </div>\n                                <div></div>\n                            </Col>\n                            <Col xs={12} lg={9}\n                                className=\"article\">\n                                <h2 className=\"article-title\">{title}</h2>\n                                <p className=\"article-time\">{time}</p>\n                                {content}\n                            </Col>\n                        </Row>\n                    </div>\n                  );\n        }else{\n            return (<div></div>);\n        }\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}